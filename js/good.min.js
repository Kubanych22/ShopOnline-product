(()=>{"use strict";var e,t,n,s,r={696:(e,t,n)=>{n.d(t,{ns:()=>i,sT:()=>l});const s=document.querySelector(".cart"),r=document.querySelector(".icon-cart");let c;const a={get:()=>JSON.parse(localStorage.getItem("shopOnlineCart")||"[]"),add(e){const t=this.get();t.push(e),localStorage.setItem("shopOnlineCart",JSON.stringify(t)),o(t.length)},remove(e){const t=this.get(),n=t.findIndex((t=>t.id===e));-1!==n&&t.splice(n,1),localStorage.setItem("shopOnlineCart",JSON.stringify(t)),o(t.length)},clear(){localStorage.removeItem("shopOnlineCart"),o(0)}},o=e=>{r.dataset.count=e||a.get().length};o();const l=()=>{const e=new URL(document.location);let t;const n=e.searchParams.get("params");if(null===n){const e=JSON.parse(localStorage.getItem("params")||"[]");if(!e)return;t=e.split(",")}else t=n.split(",");const r=document.querySelector(".good__title");r.textContent=t[1];const c=document.querySelector(".good__img");c.src=t[2];const o=document.querySelector(".price__current");o.textContent=t[4];const l=document.querySelector(".price__old");l.textContent=t[3];const d=document.querySelector(".amount__credit");d.textContent=t[5].toString();const i=document.querySelector(".description__text"),_=t[6];let p="";for(let e=7;e<t.length;e++)p+=t[e];i.textContent=p,e.searchParams.delete("params"),window.history.pushState({},"",e.toString()),localStorage.setItem("params",JSON.stringify(n));const u={id:t[0],name:r.textContent,image:c.src,count:_,priceCurrent:o.textContent,priceOld:l.textContent,amountCredit:d.textContent};s.addEventListener("click",(e=>{e.preventDefault(),a.add(u);const t=document.createElement("a");t.href="catalog-item.html",window.location.replace(t.href)}))},d=()=>{const e=new URL(document.location),t=document.querySelector(".main"),n=document.querySelector(".good"),s=document.querySelector(".goods");c=0;const r=document.createElement("div");r.classList.add("modal","modal__order"),n?n.classList.toggle("hide"):"/catalog-item.html"===e.pathname&&s.classList.toggle("hide"),r.innerHTML='\n  <div class="modal__main modal__main-order">\n    <div class="order__form">\n      <div class="form__wrapper">\n        <div class="order__cart">\n          <h2 class="order__title">Корзина<sup\n            class="order__count-sup">2</sup>\n          </h2>\n          <div class="order__wrapper">\n            <label class="cart__label-top">\n              <input class="cart__input" type="checkbox">\n              Выбрать все\n            </label>\n            <div class="order__cart__delete">\n              <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path\n                  d="M19.0214 5.35355L19.1679 5.5H19.375H23.25V7H6.75V5.5H10.625H10.8321L10.9786 5.35355L12.0821 4.25H17.9179L19.0214 5.35355ZM10 25.75C8.90114 25.75 8 24.8489 8 23.75V9.25H22V23.75C22 24.8489 21.0989 25.75 20 25.75H10Z"\n                  fill="#C9C9C9" stroke="#C9C9C9"/>\n              </svg>\n            </div>\n          </div>\n          <ul class="order__list">\n            <li class="order__item">\n              <label class="cart__label">\n                <input class="cart__input" type="checkbox">\n              </label>\n              <div class="order__img-container">\n                <img class="order__img" src="img/notebook-1.svg" alt="Ноутбук">\n              </div>\n              <div class="order__good">\n                <p class="order__good-title">15.6" Игровой ноутбук ASUS G513IE-HN004T</p>\n                <p class="order__good-color">Цвет: черный</p>\n                <p class="order__good-size">Оперативная память: 16 ГБ</p>\n              </div>\n              <div class="order__count">\n                <button class="order__count-decrease">-</button>\n                <span class="order__count-value">1</span>\n                <button class="order__count-increase">+</button>\n              </div>\n              <div class="good__price price">\n                <span class="price__current">109 090<span> ₽</span></span>\n                <span class="price__old">140 590<span> ₽</span></span>\n                <p class="price__credit">В кредит от <span class="amount__credit">5600<span> ₽</span></span></p>\n              </div>\n            </li>\n          </ul>\n        </div>\n        <div class="order__delivery">\n          <div class="order__delivery-shipping">\n            <h2 class="order__delivery-title">Способ доставки</h2>\n            <a class="order__delivery-change" href="#">Изменить</a>\n          </div>\n          <div class="order__delivery-wrap">\n            <p class="order__delivery-issue">Пункт выдачи</p>\n            <p class="order__delivery-address">\n              г. Москва (Московская область), улица Павлика Морозова, д. 48\n            </p>\n            <p class="order__delivery-cost">Стоимость доставки</p>\n            <p class="order__delivery-free">Бесплатно</p>\n            <p class="order__delivery-date">Дата: 10-13 февраля</p>\n            <ul class="delivery__list">\n            </ul>\n          </div>\n        </div>\n      </div>\n      \n      <div class="order__summary">\n        <div class="summary__info">\n          <p class="order__price-title">Итого:</p>\n          <p class="order__total-price">112 992 ₽</p>\n          <p class="summary__goods-count">Товары, 2 шт.</p>\n          <p class="summary__goods-discount">Скидка</p>\n          <p class="summary__goods-discount-value">32 088 ₽</p>\n          <p class="summary__goods-delivery">Доставка</p>\n          <p class="summary__goods-delivery-free">Бесплатно</p>\n        </div>\n        <div class="summary__delivery">\n          <p class="summary__delivery-issue">Доставка:&nbsp;<span class="summary__delivery-point">Пункт выдачи</span></p>\n          <p class="summary__delivery-daily">\n            Ежедневно 10:00 - 21:00\n          </p>\n          <p class="summary__delivery-address">\n            г. Москва (Московская область), улица Павлика Морозова, д. 48\n          </p>\n          <p class="summary__delivery-date">Дата:&nbsp;<span class="summary__delivery-point">10-13 февраля</span></p>\n          <p class="summary__delivery-payment">\n            Оплата:&nbsp;<span class="summary__delivery-point">Картой</span>\n          </p>\n          <button class="order__btn btn btn__disabled" type="submit">Заказать</button>\n          <div class="summary__agree-wrap">\n            <label class="cart__label">\n            <input class="cart__input-agree" type="checkbox">\n          </label>\n            <p class="summary__agree">\n              <span class="summary__agree-conditions">Согласен с условиями</span> правил пользования торговой площадкой и правилами возврата\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <section class="recommended">\n    <div class="container recommended__container">\n      <h2 class="recommended__title">Рекомендуем также</h2>\n      <ul class="recommended__list">\n        <li class="recommended__item product item-01">\n          <a class="product__link" href="#">\n            <img class="product__img" src="img/notebook-1.svg" width="420" height="295" alt="Ноутбук Dell">\n          </a>\n          <p class="product__prices">\n            <span class="product__price">96 320 ₽</span>\n          </p>\n          <a class="product__name" href="#">Ноутбук Dell</a>\n        </li>\n        <li class="recommended__item product item-02">\n          <a class="product__link" href="#">\n            <img class="product__img" src="img/notebook-2.svg" width="420" height="295" alt="Ноутбук HP 250">\n          </a>\n          <p class="product__prices">\n            <span class="product__price">64 949 ₽</span>\n          </p>\n          <a class="product__name" href="#">Ноутбук HP 250</a>\n        </li>\n        <li class="recommended__item product item-03">\n          <a class="product__link" href="#">\n            <img class="product__img" src="img/notebook-3.svg" width="420" height="295" alt="Ноутбук HP 15">\n          </a>\n          <p class="product__prices">\n            <span class="product__price">37 980 ₽</span>\n          </p>\n          <a class="product__name" href="#">Ноутбук HP 15</a>\n        </li>\n        <li class="recommended__item product item-04">\n          <a class="product__link" href="#">\n            <img class="product__img" src="img/notebook-4.svg" width="420" height="295" alt="Ноутбук ASUS ZenBook Pro">\n          </a>\n          <p class="product__prices">\n            <span class="product__price">102 680 ₽</span>\n            <span class="product__old-price">105 999 ₽</span>\n          </p>\n          <a class="product__name" href="#">Ноутбук ASUS ZenBook Pro</a>\n        </li>\n      </ul>\n    </div>\n  </section>\n  <section class="also-recommended">\n    <div class="container also-recommended__container">\n      <h2 class="also-recommended__title">Рекомендуем также</h2>\n      <ul class="also-recommended__list">\n        <li class="also-recommended__item product item-01">\n          <a class="product__link" href="#">\n            <img class="product__img" src="img/product-1.svg" width="420" height="295" alt="Пара футболок">\n          </a>\n          <p class="product__prices">\n            <span class="product__price">1299 ₽</span>\n            <span class="product__old-price">2598 ₽</span>\n          </p>\n          <a class="product__name" href="#">Пара футболок</a>\n        </li>\n        <li class="also-recommended__item product item-02">\n          <a class="product__link" href="#">\n            <img class="product__img" src="img/product-2.svg" width="420" height="295" alt="Кроссовки">\n          </a>\n          <p class="product__prices">\n            <span class="product__price">2099 ₽</span>\n            <span class="product__old-price">5938 ₽</span>\n          </p>\n          <a class="product__name" href="#">Кроссовки</a>\n        </li>\n        <li class="also-recommended__item product item-03">\n          <a class="product__link" href="#">\n            <img class="product__img" src="img/product-3.svg" width="420" height="295" alt="Постельное бельё">\n          </a>\n          <p class="product__prices">\n            <span class="product__price">3902 ₽</span>\n            <span class="product__old-price">4490 ₽</span>\n          </p>\n          <a class="product__name" href="#">Постельное бельё</a>\n        </li>\n        <li class="also-recommended__item product item-04">\n          <a class="product__link" href="#">\n            <img class="product__img" src="img/product-4.svg" width="420" height="295" alt="Фен">\n          </a>\n          <p class="product__prices">\n            <span class="product__price">2999 ₽</span>\n            <span class="product__old-price">6030 ₽</span>\n          </p>\n          <a class="product__name" href="#">Фен</a>\n        </li>\n        <li class="also-recommended__item product item-05">\n          <a class="product__link" href="#">\n            <img class="product__img" src="img/product-3.svg" width="420" height="295" alt="Постельное бельё">\n          </a>\n          <p class="product__prices">\n            <span class="product__price">3902 ₽</span>\n            <span class="product__old-price">4490 ₽</span>\n          </p>\n          <a class="product__name" href="#">Постельное бельё</a>\n        </li>\n        <li class="also-recommended__item product item-06">\n          <a class="product__link" href="#">\n            <img class="product__img" src="img/product-4.svg" width="420" height="295" alt="Фен">\n          </a>\n          <p class="product__prices">\n            <span class="product__price">2999 ₽</span>\n            <span class="product__old-price">6030 ₽</span>\n          </p>\n          <a class="product__name" href="#">Фен</a>\n        </li>\n      </ul>\n    </div>\n  </section>\n  ',t.prepend(r);const o=document.querySelector(".modal__order"),l=o.querySelector(".order__count"),d=o.querySelector(".order__list"),i=o.querySelector(".order__total-price");let _=a.get();const p=document.querySelector(".order__count-sup");p.textContent=a.get().length;document.querySelector(".summary__goods-count").textContent="Товары, "+p.textContent+" шт.",d.textContent="",l.textContent=`${_.length}`,_.forEach((e=>{d.append((e=>{c+=e.priceOld-e.priceCurrent;const t=document.createElement("li");t.classList.add("order__item"),t.innerHTML=`\n    <label class="cart__label">\n      <input class="cart__input" type="checkbox">\n    </label>\n    <div class="order__img-container">\n      <img class="order__img" src=${e.image} alt="${e.name}">\n    </div>\n    <div class="order__good">\n      <p class="order__good-title">${e.name}</p>\n      <p class="order__good-color">Цвет: черный</p>\n      <p class="order__good-size">Оперативная память: 16 ГБ</p>\n    </div>\n    <div class="order__count">\n      <button class="order__count-decrease">-</button>\n      <span class="order__count-value">${e.count}</span>\n      <button class="order__count-increase">+</button>\n    </div>\n    <div class="good__price price">\n      <span class="price__current">${Number(e.priceCurrent)*Number(e.count)}<span> ₽</span></span>\n      <span class="price__old">${Number(e.priceOld)*Number(e.count)}<span> ₽</span></span>\n      <p class="price__credit">В кредит от <span class="amount__credit">${e.amountCredit}<span> ₽</span></span></p>\n    </div>\n  `;const n=document.querySelector(".delivery__list"),s=document.createElement("li");s.classList.add("delivery__item");const r=document.createElement("img");return r.classList.add("delivery__img"),r.src=e.image,s.append(r),n.append(s),document.querySelector(".summary__goods-discount-value").textContent=c.toString()+" ₽",t})(e))})),i.textContent=`${_.reduce(((e,t)=>e+ +t.priceCurrent*t.count),0)} ₽`;const u=document.querySelector(".order__btn"),m=document.querySelector(".cart__input-agree");m.addEventListener("click",(()=>{!0===m.checked&&u.classList.toggle("btn__disabled")})),u.addEventListener("click",(e=>{e.preventDefault(),!0===m.checked&&(r.classList.toggle("modal__open"),n&&n.classList.toggle("hide"),s&&s.classList.toggle("hide"))}));const g=(e,t,n)=>{const s=_[n].priceCurrent,r=_[n].priceOld,c=t.closest(".order__item"),a=c.querySelector(".order__count-value"),o=c.querySelector(".price__current"),l=c.querySelector(".price__old");let d=Math.round(Number(a.textContent));e?d++:d--,a.textContent=d.toString(),o.textContent=(s*d).toString()+" ₽",l.textContent=(r*d).toString()+" ₽",_[n].count=d,i.textContent=`${_.reduce(((e,t)=>e+ +t.priceCurrent*t.count),0)} ₽`,localStorage.setItem("shopOnlineCart",JSON.stringify(_))},h=document.querySelectorAll(".order__count-increase"),v=document.querySelectorAll(".order__count-decrease");h.forEach(((e,t)=>{e.addEventListener("click",(({target:e})=>{g(!0,e,t)}))})),v.forEach(((e,t)=>{e.addEventListener("click",(({target:e})=>{g(!1,e,t)}))}))},i=()=>{r.addEventListener("click",(e=>{e.preventDefault(),d()}))}},270:(e,t,n)=>{n.a(e,(async(e,t)=>{try{var s=n(167),r=n(521),c=n(377),a=n(696),o=e([r]);r=(o.then?(await o)():o)[0];(()=>{(0,r.q)(r.R),(0,c.t)(),(0,s.j)(),(0,a.sT)(),(0,a.ns)()})(),t()}catch(e){t(e)}}))},521:(e,t,n)=>{n.a(e,(async(e,s)=>{try{n.d(t,{R:()=>e,q:()=>a});var r=n(971);let e;const c=async()=>{const e=await fetch(`${r.H$}/api/categories/`);return await e.json()};e=await c();const a=e=>{const t=document.querySelector(".menu__catalog"),n=document.createElement("ul");n.classList.add("catalog__list"),e.map((e=>{let t=document.createElement("li");t.classList.add("catalog__item");const s=document.createElement("a");s.href="catalog-item.html?param="+e,s.textContent=e,s.classList.add("catalog__link"),t.append(s),n.append(t)})),t.append(n)};s()}catch(e){s(e)}}),1)},167:(e,t,n)=>{n.d(t,{j:()=>r});const s=document.querySelector(".menu"),r=()=>{const e=document.querySelector(".navigation"),t=document.createElement("ul");let n;t.classList.add("breadcrumbs"),t.id="breadcrumbs",n=document.createElement("li"),n.classList.add("breadcrumbs__item");let r=document.createElement("a");r.classList.add("breadcrumbs__link"),r.href="index.html",r.textContent="Главная",n.append(r),t.append(n),e.append(t);const c=document.querySelector(".breadcrumbs"),a=[...s.querySelector(".menu__wrap").children];for(const e of a){const t=[...e.querySelectorAll("a")].map((e=>e.getAttribute("href")));let s=[];for(let e=0;e<t.length;e++)"#"!==t[e]&&s.push(t[e]);const r=location.href.split("/").slice(3)[0];if(s.toString().includes(r.toString())){const t=e.querySelector("h3");n=document.createElement("li"),n.classList.add("breadcrumbs__item"),n.textContent=t.textContent,c.append(n);const s=e.querySelector(`a[href*="${r}"]`);n=document.createElement("li"),n.classList.add("breadcrumbs__item"),n.textContent=s.textContent,c.append(n);break}}}},971:(e,t,n)=>{n.d(t,{H$:()=>s});const s="https://ossified-synonymous-centipede.glitch.me"},377:(e,t,n)=>{n.d(t,{t:()=>c});const s=document.querySelector(".menu"),r=document.querySelector(".navigation__menu-btn"),c=()=>{r.addEventListener("click",(e=>{e.preventDefault(),r.classList.toggle("close-btn"),s.classList.toggle("open");const t=e=>{const t=e.target.querySelector(".inner__list");t&&t.classList.toggle("expand")},n=s.querySelector(".menu__wrap").children;for(const e of n){const n=[...e.querySelectorAll(".inner__list")];for(const e of n){e.parentElement.addEventListener("click",t)}}}))}}},c={};function a(e){var t=c[e];if(void 0!==t)return t.exports;var n=c[e]={exports:{}};return r[e](n,n.exports,a),n.exports}e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",s=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},a.a=(r,c,a)=>{var o;a&&((o=[]).d=-1);var l,d,i,_=new Set,p=r.exports,u=new Promise(((e,t)=>{i=t,d=e}));u[t]=p,u[e]=e=>(o&&e(o),_.forEach(e),u.catch((e=>{}))),r.exports=u,c((r=>{var c;l=(r=>r.map((r=>{if(null!==r&&"object"==typeof r){if(r[e])return r;if(r.then){var c=[];c.d=0,r.then((e=>{a[t]=e,s(c)}),(e=>{a[n]=e,s(c)}));var a={};return a[e]=e=>e(c),a}}var o={};return o[e]=e=>{},o[t]=r,o})))(r);var a=()=>l.map((e=>{if(e[n])throw e[n];return e[t]})),d=new Promise((t=>{(c=()=>t(a)).r=0;var n=e=>e!==o&&!_.has(e)&&(_.add(e),e&&!e.d&&(c.r++,e.push(c)));l.map((t=>t[e](n)))}));return c.r?d:a()}),(e=>(e?i(u[n]=e):d(p),s(o)))),o&&o.d<0&&(o.d=0)},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a(696);a(270)})();