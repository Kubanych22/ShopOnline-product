(()=>{"use strict";var e,t,n,s,c={378:(e,t,n)=>{n.d(t,{ns:()=>l});document.querySelector(".cart");const s=document.querySelector(".icon-cart");let c;const r={get:()=>JSON.parse(localStorage.getItem("shopOnlineCart")||"[]"),add(e){const t=this.get();t.push(e),localStorage.setItem("shopOnlineCart",JSON.stringify(t)),a(t.length)},remove(e){const t=this.get(),n=t.findIndex((t=>t.id===e));-1!==n&&t.splice(n,1),localStorage.setItem("shopOnlineCart",JSON.stringify(t)),a(t.length)},clear(){localStorage.removeItem("shopOnlineCart"),a(0)}},a=e=>{s.dataset.count=e||r.get().length};a();const o=()=>{const e=new URL(document.location),t=document.querySelector(".main"),n=document.querySelector(".good"),s=document.querySelector(".goods");c=0;const a=document.createElement("div");a.classList.add("modal","modal__order"),n?n.classList.toggle("hide"):"/catalog-item.html"===e.pathname&&s.classList.toggle("hide"),a.innerHTML='\n  <div class="modal__main modal__main-order">\n    <div class="order__form">\n      <div class="form__wrapper">\n        <div class="order__cart">\n          <h2 class="order__title">Корзина<sup\n            class="order__count-sup">2</sup>\n          </h2>\n          <div class="order__wrapper">\n            <label class="cart__label-top">\n              <input class="cart__input" type="checkbox">\n              Выбрать все\n            </label>\n            <div class="order__cart__delete">\n              <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path\n                  d="M19.0214 5.35355L19.1679 5.5H19.375H23.25V7H6.75V5.5H10.625H10.8321L10.9786 5.35355L12.0821 4.25H17.9179L19.0214 5.35355ZM10 25.75C8.90114 25.75 8 24.8489 8 23.75V9.25H22V23.75C22 24.8489 21.0989 25.75 20 25.75H10Z"\n                  fill="#C9C9C9" stroke="#C9C9C9"/>\n              </svg>\n            </div>\n          </div>\n          <ul class="order__list">\n            <li class="order__item">\n              <label class="cart__label">\n                <input class="cart__input" type="checkbox">\n              </label>\n              <div class="order__img-container">\n                <img class="order__img" src="img/notebook-1.svg" alt="Ноутбук">\n              </div>\n              <div class="order__good">\n                <p class="order__good-title">15.6" Игровой ноутбук ASUS G513IE-HN004T</p>\n                <p class="order__good-color">Цвет: черный</p>\n                <p class="order__good-size">Оперативная память: 16 ГБ</p>\n              </div>\n              <div class="order__count">\n                <button class="order__count-decrease">-</button>\n                <span class="order__count-value">1</span>\n                <button class="order__count-increase">+</button>\n              </div>\n              <div class="good__price price">\n                <span class="price__current">109 090<span> ₽</span></span>\n                <span class="price__old">140 590<span> ₽</span></span>\n                <p class="price__credit">В кредит от <span class="amount__credit">5600<span> ₽</span></span></p>\n              </div>\n            </li>\n          </ul>\n        </div>\n        <div class="order__delivery">\n          <div class="order__delivery-shipping">\n            <h2 class="order__delivery-title">Способ доставки</h2>\n            <a class="order__delivery-change" href="#">Изменить</a>\n          </div>\n          <div class="order__delivery-wrap">\n            <p class="order__delivery-issue">Пункт выдачи</p>\n            <p class="order__delivery-address">\n              г. Москва (Московская область), улица Павлика Морозова, д. 48\n            </p>\n            <p class="order__delivery-cost">Стоимость доставки</p>\n            <p class="order__delivery-free">Бесплатно</p>\n            <p class="order__delivery-date">Дата: 10-13 февраля</p>\n            <ul class="delivery__list">\n            </ul>\n          </div>\n        </div>\n      </div>\n      \n      <div class="order__summary">\n        <div class="summary__info">\n          <p class="order__price-title">Итого:</p>\n          <p class="order__total-price">112 992 ₽</p>\n          <p class="summary__goods-count">Товары, 2 шт.</p>\n          <p class="summary__goods-discount">Скидка</p>\n          <p class="summary__goods-discount-value">32 088 ₽</p>\n          <p class="summary__goods-delivery">Доставка</p>\n          <p class="summary__goods-delivery-free">Бесплатно</p>\n        </div>\n        <div class="summary__delivery">\n          <p class="summary__delivery-issue">Доставка:&nbsp;<span class="summary__delivery-point">Пункт выдачи</span></p>\n          <p class="summary__delivery-daily">\n            Ежедневно 10:00 - 21:00\n          </p>\n          <p class="summary__delivery-address">\n            г. Москва (Московская область), улица Павлика Морозова, д. 48\n          </p>\n          <p class="summary__delivery-date">Дата:&nbsp;<span class="summary__delivery-point">10-13 февраля</span></p>\n          <p class="summary__delivery-payment">\n            Оплата:&nbsp;<span class="summary__delivery-point">Картой</span>\n          </p>\n          <button class="order__btn btn btn__disabled" type="submit">Заказать</button>\n          <div class="summary__agree-wrap">\n            <label class="cart__label">\n            <input class="cart__input-agree" type="checkbox">\n          </label>\n            <p class="summary__agree">\n              <span class="summary__agree-conditions">Согласен с условиями</span> правил пользования торговой площадкой и правилами возврата\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <section class="recommended">\n    <div class="container recommended__container">\n      <h2 class="recommended__title">Рекомендуем также</h2>\n      <ul class="recommended__list">\n        <li class="recommended__item product item-01">\n          <a class="product__link" href="#">\n            <img class="product__img" src="img/notebook-1.svg" width="420" height="295" alt="Ноутбук Dell">\n          </a>\n          <p class="product__prices">\n            <span class="product__price">96 320 ₽</span>\n          </p>\n          <a class="product__name" href="#">Ноутбук Dell</a>\n        </li>\n        <li class="recommended__item product item-02">\n          <a class="product__link" href="#">\n            <img class="product__img" src="img/notebook-2.svg" width="420" height="295" alt="Ноутбук HP 250">\n          </a>\n          <p class="product__prices">\n            <span class="product__price">64 949 ₽</span>\n          </p>\n          <a class="product__name" href="#">Ноутбук HP 250</a>\n        </li>\n        <li class="recommended__item product item-03">\n          <a class="product__link" href="#">\n            <img class="product__img" src="img/notebook-3.svg" width="420" height="295" alt="Ноутбук HP 15">\n          </a>\n          <p class="product__prices">\n            <span class="product__price">37 980 ₽</span>\n          </p>\n          <a class="product__name" href="#">Ноутбук HP 15</a>\n        </li>\n        <li class="recommended__item product item-04">\n          <a class="product__link" href="#">\n            <img class="product__img" src="img/notebook-4.svg" width="420" height="295" alt="Ноутбук ASUS ZenBook Pro">\n          </a>\n          <p class="product__prices">\n            <span class="product__price">102 680 ₽</span>\n            <span class="product__old-price">105 999 ₽</span>\n          </p>\n          <a class="product__name" href="#">Ноутбук ASUS ZenBook Pro</a>\n        </li>\n      </ul>\n    </div>\n  </section>\n  <section class="also-recommended">\n    <div class="container also-recommended__container">\n      <h2 class="also-recommended__title">Рекомендуем также</h2>\n      <ul class="also-recommended__list">\n        <li class="also-recommended__item product item-01">\n          <a class="product__link" href="#">\n            <img class="product__img" src="img/product-1.svg" width="420" height="295" alt="Пара футболок">\n          </a>\n          <p class="product__prices">\n            <span class="product__price">1299 ₽</span>\n            <span class="product__old-price">2598 ₽</span>\n          </p>\n          <a class="product__name" href="#">Пара футболок</a>\n        </li>\n        <li class="also-recommended__item product item-02">\n          <a class="product__link" href="#">\n            <img class="product__img" src="img/product-2.svg" width="420" height="295" alt="Кроссовки">\n          </a>\n          <p class="product__prices">\n            <span class="product__price">2099 ₽</span>\n            <span class="product__old-price">5938 ₽</span>\n          </p>\n          <a class="product__name" href="#">Кроссовки</a>\n        </li>\n        <li class="also-recommended__item product item-03">\n          <a class="product__link" href="#">\n            <img class="product__img" src="img/product-3.svg" width="420" height="295" alt="Постельное бельё">\n          </a>\n          <p class="product__prices">\n            <span class="product__price">3902 ₽</span>\n            <span class="product__old-price">4490 ₽</span>\n          </p>\n          <a class="product__name" href="#">Постельное бельё</a>\n        </li>\n        <li class="also-recommended__item product item-04">\n          <a class="product__link" href="#">\n            <img class="product__img" src="img/product-4.svg" width="420" height="295" alt="Фен">\n          </a>\n          <p class="product__prices">\n            <span class="product__price">2999 ₽</span>\n            <span class="product__old-price">6030 ₽</span>\n          </p>\n          <a class="product__name" href="#">Фен</a>\n        </li>\n        <li class="also-recommended__item product item-05">\n          <a class="product__link" href="#">\n            <img class="product__img" src="img/product-3.svg" width="420" height="295" alt="Постельное бельё">\n          </a>\n          <p class="product__prices">\n            <span class="product__price">3902 ₽</span>\n            <span class="product__old-price">4490 ₽</span>\n          </p>\n          <a class="product__name" href="#">Постельное бельё</a>\n        </li>\n        <li class="also-recommended__item product item-06">\n          <a class="product__link" href="#">\n            <img class="product__img" src="img/product-4.svg" width="420" height="295" alt="Фен">\n          </a>\n          <p class="product__prices">\n            <span class="product__price">2999 ₽</span>\n            <span class="product__old-price">6030 ₽</span>\n          </p>\n          <a class="product__name" href="#">Фен</a>\n        </li>\n      </ul>\n    </div>\n  </section>\n  ',t.prepend(a);const o=document.querySelector(".modal__order"),l=o.querySelector(".order__count"),d=o.querySelector(".order__list"),i=o.querySelector(".order__total-price");let _=r.get();const p=document.querySelector(".order__count-sup");p.textContent=r.get().length;document.querySelector(".summary__goods-count").textContent="Товары, "+p.textContent+" шт.",d.textContent="",l.textContent=`${_.length}`,_.forEach((e=>{d.append((e=>{c+=e.priceOld-e.priceCurrent;const t=document.createElement("li");t.classList.add("order__item"),t.innerHTML=`\n    <label class="cart__label">\n      <input class="cart__input" type="checkbox">\n    </label>\n    <div class="order__img-container">\n      <img class="order__img" src=${e.image} alt="${e.name}">\n    </div>\n    <div class="order__good">\n      <p class="order__good-title">${e.name}</p>\n      <p class="order__good-color">Цвет: черный</p>\n      <p class="order__good-size">Оперативная память: 16 ГБ</p>\n    </div>\n    <div class="order__count">\n      <button class="order__count-decrease">-</button>\n      <span class="order__count-value">${e.count}</span>\n      <button class="order__count-increase">+</button>\n    </div>\n    <div class="good__price price">\n      <span class="price__current">${Number(e.priceCurrent)*Number(e.count)}<span> ₽</span></span>\n      <span class="price__old">${Number(e.priceOld)*Number(e.count)}<span> ₽</span></span>\n      <p class="price__credit">В кредит от <span class="amount__credit">${e.amountCredit}<span> ₽</span></span></p>\n    </div>\n  `;const n=document.querySelector(".delivery__list"),s=document.createElement("li");s.classList.add("delivery__item");const r=document.createElement("img");return r.classList.add("delivery__img"),r.src=e.image,s.append(r),n.append(s),document.querySelector(".summary__goods-discount-value").textContent=c.toString()+" ₽",t})(e))})),i.textContent=`${_.reduce(((e,t)=>e+ +t.priceCurrent*t.count),0)} ₽`;const u=document.querySelector(".order__btn"),m=document.querySelector(".cart__input-agree");m.addEventListener("click",(()=>{!0===m.checked&&u.classList.toggle("btn__disabled")})),u.addEventListener("click",(e=>{e.preventDefault(),!0===m.checked&&(a.classList.toggle("modal__open"),n&&n.classList.toggle("hide"),s&&s.classList.toggle("hide"))}));const g=(e,t,n)=>{const s=_[n].priceCurrent,c=_[n].priceOld,r=t.closest(".order__item"),a=r.querySelector(".order__count-value"),o=r.querySelector(".price__current"),l=r.querySelector(".price__old");let d=Math.round(Number(a.textContent));e?d++:d--,a.textContent=d.toString(),o.textContent=(s*d).toString()+" ₽",l.textContent=(c*d).toString()+" ₽",_[n].count=d,i.textContent=`${_.reduce(((e,t)=>e+ +t.priceCurrent*t.count),0)} ₽`,localStorage.setItem("shopOnlineCart",JSON.stringify(_))},h=document.querySelectorAll(".order__count-increase"),v=document.querySelectorAll(".order__count-decrease");h.forEach(((e,t)=>{e.addEventListener("click",(({target:e})=>{g(!0,e,t)}))})),v.forEach(((e,t)=>{e.addEventListener("click",(({target:e})=>{g(!1,e,t)}))}))},l=()=>{s.addEventListener("click",(e=>{e.preventDefault(),o()}))}},491:(e,t,n)=>{n.a(e,(async(e,t)=>{try{var s=n(983),c=n(861),r=n(105),a=n(648),o=n(99),l=n(65),d=n(378),i=e([s]);let _;(0,(s=(i.then?(await i)():i)[0]).q)(s.R),(0,a.Y)(),(0,o.f)();const p=async()=>{const e=await fetch(`${r.H$}/api/goods/?page=1`);return(await e.json()).pages};_=await p();let u=[];const m=async()=>{for(let e=1;e<=_;e++)u=u.concat(await(0,c.V)(e));await(0,c.B)(u)};await m(),(0,l.j)(),(0,d.ns)(),t()}catch(e){t(e)}}),1)},648:(e,t,n)=>{n.d(t,{Y:()=>r});const s=document.querySelector(".menu"),c=document.querySelector(".navigation__menu-btn"),r=()=>{c.addEventListener("click",(e=>{e.preventDefault(),c.classList.toggle("close-btn"),s.classList.toggle("open");const t=e=>{const t=e.target.querySelector(".inner__list");t&&t.classList.toggle("expand")},n=s.querySelector(".menu__wrap").children;for(const e of n){const n=[...e.querySelectorAll(".catalog__item")];for(const e of n)e.addEventListener("click",(()=>{c.classList.toggle("close-btn"),s.classList.toggle("open")}));const r=[...e.querySelectorAll(".inner__list")];for(const e of r){e.parentElement.addEventListener("click",t)}}}))}},240:(e,t,n)=>{n.d(t,{Q:()=>c});var s=n(105);const c=e=>{const t=document.createElement("li");t.classList.add("goods__item","product");const n=document.createElement("a");n.classList.add("product__link");const c=document.createElement("img");c.classList.add("product__img"),c.src=`${s.H$}/${e.image}`,c.width=420,c.height=295,c.alt=e.title,n.append(c),t.append(n);const r=document.createElement("p");r.classList.add("product__prices");const a=document.createElement("span");a.classList.add("product__price"),a.textContent=e.price+" ₽";const o=document.createElement("span");o.classList.add("product__old-price");const l=Number(e.discount),d=Number(e.price);let i;i=0!==l?d-d*l/100:d,o.textContent=i+" ₽",r.append(a,o),t.append(r);const _=document.createElement("a");_.classList.add("product__name"),_.href="#",_.textContent=e.title,t.append(_);const p=Math.round(.05*i);let u=[];return u.push(e.id,e.title,c.src.toString(),d.toString(),i.toString(),p.toString(),e.count,e.description),n.href="good.html?params="+u,t}},99:(e,t,n)=>{n.d(t,{f:()=>s});const s=()=>{document.querySelector(".main").innerHTML='<section class="goods">\n      <div class="container goods-container">\n        <h2 class="goods__title">Мобильный телефон</h2>\n        <ul class="goods__list">\n        </ul>\n      </div>\n    </section>'}},983:(e,t,n)=>{n.a(e,(async(e,s)=>{try{n.d(t,{R:()=>e,q:()=>a});var c=n(105);let e;const r=async()=>{const e=await fetch(`${c.H$}/api/categories/`);return await e.json()};e=await r();const a=e=>{const t=document.querySelector(".menu__catalog"),n=document.createElement("ul");n.classList.add("catalog__list"),e.map((e=>{let t=document.createElement("li");t.classList.add("catalog__item");const s=document.createElement("a");s.href="catalog-item.html?param="+e,s.textContent=e,s.classList.add("catalog__link"),t.append(s),n.append(t)})),t.append(n)};s()}catch(e){s(e)}}),1)},861:(e,t,n)=>{n.d(t,{B:()=>a,V:()=>r});var s=n(105),c=n(240);const r=async(e=1)=>{const t=await fetch(`${s.H$}/api/goods/?page=${e.toString()}`);return(await t.json()).goods},a=async e=>{const t=new URL(document.location),n=t.searchParams,s=n.get("param");document.querySelector(".goods__title").textContent=s,n.delete("param"),window.history.pushState({},"",t.toString());const r=document.querySelector(".goods__list");e.map((e=>{const t=(0,c.Q)(e);r.append(t)}))}},65:(e,t,n)=>{n.d(t,{j:()=>c});const s=document.querySelector(".menu"),c=()=>{const e=document.querySelector(".navigation"),t=document.createElement("ul");let n;t.classList.add("breadcrumbs"),t.id="breadcrumbs",n=document.createElement("li"),n.classList.add("breadcrumbs__item");let c=document.createElement("a");c.classList.add("breadcrumbs__link"),c.href="index.html",c.textContent="Главная",n.append(c),t.append(n),e.append(t);const r=document.querySelector(".breadcrumbs"),a=[...s.querySelector(".menu__wrap").children];for(const e of a){const t=[...e.querySelectorAll("a")].map((e=>e.getAttribute("href")));let s=[];for(let e=0;e<t.length;e++)"#"!==t[e]&&s.push(t[e]);const c=location.href.split("/").slice(3)[0];if(s.toString().includes(c.toString())){const t=e.querySelector("h3");n=document.createElement("li"),n.classList.add("breadcrumbs__item"),n.textContent=t.textContent,r.append(n);const s=e.querySelector(`a[href*="${c}"]`);n=document.createElement("li"),n.classList.add("breadcrumbs__item"),n.textContent=s.textContent,r.append(n);break}}}},105:(e,t,n)=>{n.d(t,{H$:()=>s});const s="https://ossified-synonymous-centipede.glitch.me"}},r={};function a(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={exports:{}};return c[e](n,n.exports,a),n.exports}e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",s=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},a.a=(c,r,a)=>{var o;a&&((o=[]).d=-1);var l,d,i,_=new Set,p=c.exports,u=new Promise(((e,t)=>{i=t,d=e}));u[t]=p,u[e]=e=>(o&&e(o),_.forEach(e),u.catch((e=>{}))),c.exports=u,r((c=>{var r;l=(c=>c.map((c=>{if(null!==c&&"object"==typeof c){if(c[e])return c;if(c.then){var r=[];r.d=0,c.then((e=>{a[t]=e,s(r)}),(e=>{a[n]=e,s(r)}));var a={};return a[e]=e=>e(r),a}}var o={};return o[e]=e=>{},o[t]=c,o})))(c);var a=()=>l.map((e=>{if(e[n])throw e[n];return e[t]})),d=new Promise((t=>{(r=()=>t(a)).r=0;var n=e=>e!==o&&!_.has(e)&&(_.add(e),e&&!e.d&&(r.r++,e.push(r)));l.map((t=>t[e](n)))}));return r.r?d:a()}),(e=>(e?i(u[n]=e):d(p),s(o)))),o&&o.d<0&&(o.d=0)},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a(491),a(648),a(240),a(99),a(983);a(861)})();